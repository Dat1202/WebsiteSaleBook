@model IEnumerable<QuanLiBanSach02.Product>
@{
    ViewBag.Title = "ListProduct";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h1 class="text__center">Quản lí sản phẩm</h1>
<div class="grid__auto">
    @if (TempData["SuccAddCateMessage"] != null)
    {
        <div class="alert alert-success">@TempData["SuccAddCateMessage"]</div>
    }
    @if (TempData["SuccessEditProductMessage"] != null)
    {
        <div class="alert alert-success">@TempData["SuccessEditProductMessage"]</div>
    }
    @if (TempData["SuccessDelete"] != null)
    {
        <div class="alert alert-success">@TempData["SuccessDelete"]</div>
    }
    <div>
        <a class="my-btn btn btn-primary" href="@Url.Action("CreateProduct")">Thêm sản phẩm</a>
    </div>
    <hr />
    <table class="table" border="1">
        <tr>
            @*<th>
                @Html.DisplayNameFor(model => model.ProductID)
            </th>*@
            <th>
                @Html.DisplayNameFor(model => model.ProductName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Image)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Description)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Category.CategoryName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Author)
            </th>
            <th class="text__center">Hành động</th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                @*<td>
                    @Html.DisplayFor(modelItem => item.ProductID)
                </td>*@
                <td>
                    @Html.DisplayFor(modelItem => item.ProductName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Price)
                </td>
                <td class="flex-center">
                    <div style="width:200px;">
                        <img style="width:100%;" src="~/Content/Images/@item.Image" />
                    </div>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Category.CategoryName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Author)
                </td>
                <td>
                    @Html.ActionLink("Edit", "EditProduct", new { id = item.ProductID }) |
                    @Html.ActionLink("Details", "Details", new { id = item.ProductID }) |
                    <div style="margin-left:20px;">
                        @using (Html.BeginForm("DeleteProduct", "Product", new { id = item.ProductID }, FormMethod.Post))
                        {
                            <input type="submit" value="Xóa" class="btn btn-danger" onclick="return confirm('Bạn có chắc chắn muốn xóa thể loại này?');" />
                        }
                    </div>                
                </td>
            </tr>
        }
    </table>
</div>
