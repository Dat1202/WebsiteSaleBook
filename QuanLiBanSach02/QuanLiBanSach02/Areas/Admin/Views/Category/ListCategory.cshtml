@model IEnumerable<QuanLiBanSach02.Category>

@{
    ViewBag.Title = "ListCategory";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h1 class="text__center">Thể loại</h1>
<div class="grid__auto">

    @if (TempData["SuccessDelete"] != null)
    {
        <div class="alert alert-success">@TempData["SuccessDelete"]</div>
    }
    @if (TempData["SuccAddCateMessage"] != null)
    {
        <div class="alert alert-success">@TempData["SuccAddCateMessage"]</div>
    }
    @if (TempData["SuccessEditCateMessage"] != null)
    {
        <div class="alert alert-success">@TempData["SuccessEditCateMessage"]</div>
    }
    <div>
        <a class="btn btn-primary" href="@Url.Action("CreateCategory")">Thêm thể loại</a>
    </div>
    <hr />

    <table class="table" border="1">
        <tr style="text-align:center">
            <th class="text__center">
                @Html.DisplayNameFor(model => model.CategoryName)
            </th>
            <th class="text__center">Hành động</th>
        </tr>

        @if (Model != null && Model.Any())
        {
            foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.CategoryName)
                    </td>
                    <td class="flex-center">
                        <div>
                            <a class="btn btn-primary" href="@Url.Action("EditCategory", "Category", new { id = item.CategoryID })">Sửa</a>
                        </div>

                        <div style="margin-left:20px;">
                            @using (Html.BeginForm("DeleteCategory", "Category", new { id = item.CategoryID }, FormMethod.Post))
                            {
                                <input type="submit" value="Xóa" class="btn btn-danger" onclick="return confirm('Bạn có chắc chắn muốn xóa thể loại này?');" />
                            }
                        </div>
                    </td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="2"> Chưa có thể loại </td>
            </tr>
        }

    </table>
</div>